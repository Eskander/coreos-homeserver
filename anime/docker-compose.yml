services:

  jellyfin:
    image: jellyfin/jellyfin
    container_name: jellyfin
    user: 1000:1000
    volumes:
      - /containers/jellyfin/config:/config:Z
      - /containers/jellyfin/cache:/cache:Z
      - /home/sk/Anime-TV:/tv:z
      - /home/sk/Anime-Movies:/movies:z
    networks:
      - traefik
    labels:
      - io.containers.autoupdate=registry
      - traefik.enable=true
      - traefik.http.routers.jellyfin.tls=true
      - traefik.http.routers.jellyfin.entrypoints=websecure
      - traefik.http.routers.jellyfin.rule=PathPrefix(`/jellyfin`)
      - traefik.http.services.jellyfin.loadbalancer.server.port=8096


      - "traefik.http.services.jellyfin.loadBalancer.passHostHeader=true"

networks:
  traefik:
    external: true
